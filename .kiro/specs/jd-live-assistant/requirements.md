# 需求文档

## 简介

京东直播助手是一个桌面应用，帮助用户自动化管理京东直播流程。主要功能包括：获取浏览器 Cookie、配置商品信息、设置直播参数、AI 话术提词、以及自动化执行直播任务。

## 术语表

- **直播助手（Live_Assistant）**: 本应用系统的名称
- **浏览器列表（Browser_List）**: 显示本地 Chrome 浏览器中已登录京东账号的列表
- **商品文件（Product_File）**: 包含商品信息的配置文件
- **AI 话术（AI_Script）**: AI 生成的直播话术内容
- **倒计时（Countdown）**: 显示距离直播开始的剩余时间

## 需求

### 需求 1

**用户故事：** 作为直播运营人员，我希望能够查看软件公告，以便了解最新的功能更新和通知。

#### 验收标准

1. WHEN 用户打开应用 THEN 直播助手 SHALL 在顶部显示公告栏区域
2. WHEN 公告内容更新 THEN 直播助手 SHALL 显示最新的公告信息

### 需求 2

**用户故事：** 作为直播运营人员，我希望能够配置软件设置，以便自定义应用行为。

#### 验收标准

1. WHEN 用户点击软件设置按钮 THEN 直播助手 SHALL 显示设置弹窗
2. WHEN 设置弹窗打开 THEN 直播助手 SHALL 提供主题设置选项
3. WHEN 设置弹窗打开 THEN 直播助手 SHALL 提供登录信息配置选项
4. WHEN 设置弹窗打开 THEN 直播助手 SHALL 提供 AI 配置选项
5. WHEN 用户修改设置并保存 THEN 直播助手 SHALL 持久化存储设置信息

### 需求 3

**用户故事：** 作为直播运营人员，我希望能够获取本地 Chrome 浏览器的京东 Cookie，以便使用已登录的账号进行直播操作。

#### 验收标准

1. WHEN 用户进入浏览器列表区域 THEN 直播助手 SHALL 自动扫描并显示本地所有 Chrome 浏览器配置文件列表
2. WHEN 用户点击刷新按钮 THEN 直播助手 SHALL 重新扫描本地浏览器配置文件
3. WHEN 用户选择一个浏览器配置文件 THEN 直播助手 SHALL 获取该配置文件中所有京东域名的 Cookie
4. WHEN Cookie 获取成功 THEN 直播助手 SHALL 在执行日志中打印 Cookie 信息
5. WHEN Cookie 获取成功 THEN 直播助手 SHALL 显示已登录的京东账号昵称
6. WHEN Cookie 获取失败 THEN 直播助手 SHALL 在执行日志中显示错误提示信息

### 需求 4

**用户故事：** 作为直播运营人员，我希望能够配置商品信息，以便在直播中展示和销售商品。

#### 验收标准

1. WHEN 用户进入商品信息设置区域 THEN 直播助手 SHALL 提供商品文件上传功能，支持 xlsx 格式
2. WHEN 用户上传 xlsx 商品文件 THEN 直播助手 SHALL 验证第一列标题必须为 ID
3. WHEN 用户上传 xlsx 商品文件 THEN 直播助手 SHALL 读取第一列的商品 ID 数据
4. WHEN 解析商品文件 THEN 直播助手 SHALL 自动去除空行和重复的商品 ID
5. WHEN 解析商品文件成功 THEN 直播助手 SHALL 显示去重后的商品数量
6. WHEN 用户配置商品 THEN 直播助手 SHALL 允许设置每个商品需要添加的数量
7. WHEN 用户配置商品 THEN 直播助手 SHALL 允许设置至少一个标题，且标题支持 AI 批量生成

### 需求 5

**用户故事：** 作为直播运营人员，我希望能够配置商品图片参数，以便控制直播中商品图片的展示效果。

#### 验收标准

1. WHEN 用户进入商品图片设置区域 THEN 直播助手 SHALL 提供图片宽高比设置，默认值为 1:1
2. WHEN 用户配置图片 THEN 直播助手 SHALL 允许设置图片的位置坐标

### 需求 6

**用户故事：** 作为直播运营人员，我希望能够查看执行日志，以便了解直播任务的执行状态。

#### 验收标准

1. WHEN 直播任务执行 THEN 直播助手 SHALL 在执行日志区域实时显示执行过程
2. WHEN 执行出现错误 THEN 直播助手 SHALL 在日志中显示错误信息
3. WHEN 执行完成 THEN 直播助手 SHALL 在日志中显示完成状态

### 需求 7

**用户故事：** 作为直播运营人员，我希望能够配置直播参数，以便控制直播的商品数量和时间。

#### 验收标准

1. WHEN 用户进入直播参数区域 THEN 直播助手 SHALL 提供当场直播商品总数量设置
2. WHEN 用户配置直播参数 THEN 直播助手 SHALL 允许设置最终添加购物袋的商品数量
3. WHEN 用户配置直播时间 THEN 直播助手 SHALL 提供直播时间选择器，默认值为当前时间加 3 分钟

### 需求 8

**用户故事：** 作为直播运营人员，我希望能够新建直播间，以便开始新的直播任务。

#### 验收标准

1. WHEN 用户点击新建直播间按钮 THEN 直播助手 SHALL 调用京东直播 API 创建新直播间
2. WHEN 直播间创建成功 THEN 直播助手 SHALL 启用开始直播按钮
3. WHEN 直播间创建失败 THEN 直播助手 SHALL 显示错误信息并保持开始直播按钮禁用状态

### 需求 9

**用户故事：** 作为直播运营人员，我希望能够开始直播并查看 AI 话术提词，以便顺利进行直播。

#### 验收标准

1. WHILE 直播间未创建 THEN 直播助手 SHALL 禁用开始直播按钮
2. WHEN 用户点击开始直播按钮 THEN 直播助手 SHALL 等待 1 分钟后开始执行
3. WHEN 直播开始执行 THEN 直播助手 SHALL 在左侧区域显示 AI 话术提词内容
4. WHEN 直播开始执行 THEN 直播助手 SHALL 在倒计时区域显示距离直播开始的剩余时间
5. WHEN 倒计时结束 THEN 直播助手 SHALL 自动开始直播流程

### 需求 10

**用户故事：** 作为直播运营人员，我希望界面布局清晰合理，以便高效操作各项功能。

#### 验收标准

1. WHEN 应用启动 THEN 直播助手 SHALL 在左侧显示倒计时区域和 AI 话术提词区域
2. WHEN 应用启动 THEN 直播助手 SHALL 在右侧从上到下依次显示浏览器列表、商品信息设置、商品图片设置、执行日志区域
3. WHEN 应用启动 THEN 直播助手 SHALL 在底部显示直播参数配置和操作按钮
